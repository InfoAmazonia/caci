!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a){b.exports=function(a){a.controller("MainCtrl",["$scope","Vindig",function(a,b){a.init=function(){a.initialized=!0},b.cases().then(function(c){a.casos=c.data;for(var d=c.headers("X-WP-TotalPages"),e=2;d>=e;e++)b.cases({page:e}).then(function(b){a.casos=a.casos.concat(b.data)})})}]),a.controller("HomeCtrl",["$scope",function(a){}])}}()},{}],2:[function(a,b,c){!function(a,c,d){c.mapbox.accessToken="pk.eyJ1IjoiaW5mb2FtYXpvbmlhIiwiYSI6InItajRmMGsifQ.JnRnLDiUXSEpgn7bPDzp7g",b.exports=function(a){a.directive("map",["Vindig",function(a){return{restrict:"E",scope:{markers:"="},link:function(b,d,e){a.maps().then(function(a){var f=a.data[0];angular.element(d).append('<div id="'+e.id+'"></div>').attr("id","");var g=c.map(e.id,{center:f.center,zoom:f.zoom,minZoom:parseInt(f.min_zoom),maxZoom:parseInt(f.max_zoom)}),h={baseLayer:c.mapbox.tileLayer("infoamazonia.8d20fc32"),baltimetria:c.mapbox.tileLayer("infoamazonia.naturalEarth_baltimetria"),rivers:c.mapbox.tileLayer("infoamazonia.rivers"),treecover:c.mapbox.tileLayer("infoamazonia.4rbe1sxe"),streets:c.mapbox.tileLayer("infoamazonia.osm-brasil")};for(var i in h)g.addLayer(h[i]);var j={"Unidades de Conservação":c.mapbox.tileLayer("infoamazonia.ojdsix43"),"Terras indígenas":c.mapbox.tileLayer("infoamazonia.qwbaban8"),Desmatamento:c.mapbox.tileLayer("infoamazonia.9by7k878")};c.control.layers({},j).addTo(g);var k=c.markerClusterGroup();k.addTo(g);var l=[];b.$watch("markers",function(a){for(var b in l)k.removeLayer(l[b]);l=[];for(var b in a){var d=a[b];l[b]=c.marker([d.lat,d.lng])}for(var b in l)l[b].addTo(k)},!0)})}}}])}}(window.vindig,window.L)},{}],3:[function(a,b,c){!function(a){b.exports=function(a){a.filter("casoName",[function(){return function(a){var b="";return a&&(a.NOME?(b+=a.NOME,a.APELIDO&&(b+=" ("+a.APELIDO+")")):b+=a.APELIDO?a.APELIDO:"Não identificado",a.IDADE&&(b+=", "+a.IDADE+" anos")),b}}]),a.filter("postToMarker",[function(){return _.memoize(function(a){if(a&&a.length){var b={};return _.each(a,function(a){a.coordinates&&(b[a.ID]={lat:a.coordinates[1],lng:a.coordinates[0],message:"<h2>"+a.title+"</h2><p>"+a.formatted_address+"</p>"})}),b}return{}},function(){return JSON.stringify(arguments)})}])}}()},{}],4:[function(a,b,c){!function(b,c){var d=b.module("vindigena",["ui.router"]);d.config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,c,d,e){d.html5Mode({enabled:!1,requireBase:!1}),d.hashPrefix("!"),a.state("home",{url:"/",controller:"HomeCtrl"}),c.rule(function(a,c){var d,e=c.path(),f=c.search();if("/"!==e[e.length-1])return 0===Object.keys(f).length?e+"/":(d=[],b.forEach(f,function(a,b){d.push(b+"="+a)}),e+"/?"+d.join("&"))})}]),a("./services")(d),a("./filters")(d),a("./directives")(d),a("./controllers")(d),b.element(document).ready(function(){b.bootstrap(document,["vindigena"])})}(window.angular)},{"./controllers":1,"./directives":2,"./filters":3,"./services":5}],5:[function(a,b,c){!function(a,c){b.exports=function(b){b.config(["$httpProvider",function(a){a.defaults.paramSerializer="$httpParamSerializerJQLike"}]),b.factory("Vindig",["$http",function(b){return{maps:function(c,d){return c=c||{},c=_.extend({type:"map"},c),d=d||{},d=_.extend({posts_per_page:50},d),c.filter=d,b({method:"GET",url:a.api+"posts",params:c})},cases:function(c,d){return c=c||{},c=_.extend({type:"case"},c),d=d||{},d=_.extend({posts_per_page:50},d),c.filter=d,b({method:"GET",url:a.api+"posts",params:c})},dossiers:function(c,d){return c=c||{},c=_.extend({type:"dossier"},c),d=d||{},d=_.extend({posts_per_page:50},d),c.filter=d,b({method:"GET",url:a.api+"posts",params:c})}}}])}}(window.vindig)},{}]},{},[4]);
//# sourceMappingURL=app.js.map